import{j as e,r as x,a as re}from"./react-a0bbf665.js";import{c as oe}from"./react-dom-20833c07.js";/* empty css                  */import{N as D,C as W,a as F,B as j,b,T as ae,c as se}from"./react-bootstrap-2ff702bb.js";import{N as k,L as T,B as te}from"./react-router-dom-a35d47f4.js";import{F as Z}from"./react-icons-db6b9d35.js";import{a as y}from"./axios-4a70c6fc.js";import{k as P,Q as f}from"./react-toastify-2986a2b2.js";import{d as Y,c as R,e as le,f as N,g as w}from"./react-router-34644886.js";import"./firebase-200750b6.js";import{i as ce,g as ne,a as V,u as Q,b as J}from"./@firebase-deac7ed8.js";import{v as $}from"./uuid-a960c1f4.js";import{T as v,B}from"./@mui-8ceb19d6.js";import"./scheduler-765c72db.js";import"./classnames-f478844b.js";import"./prop-types-extra-571b8aa3.js";import"./uncontrollable-0f073599.js";import"./@babel-5d790daf.js";import"./@restart-cee42450.js";import"./dom-helpers-a7dd6c72.js";import"./react-transition-group-9fb206ad.js";import"./prop-types-611133fe.js";import"./@remix-run-3a320cb3.js";import"./clsx-1229b3e0.js";import"./idb-81bdbf9b.js";import"./@emotion-932002a4.js";import"./hoist-non-react-statics-23d96a9a.js";import"./react-is-e8e5dbb3.js";import"./stylis-79144faa.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))l(m);new MutationObserver(m=>{for(const c of m)if(c.type==="childList")for(const i of c.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function t(m){const c={};return m.integrity&&(c.integrity=m.integrity),m.referrerPolicy&&(c.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?c.credentials="include":m.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(m){if(m.ep)return;m.ep=!0;const c=t(m);fetch(m.href,c)}})();function _(){const s=({isActive:a})=>a?"active":"inactive";return e.jsx(D,{bg:"dark",variant:"dark",children:e.jsxs(W,{children:[e.jsx(D.Brand,{href:"/",children:e.jsx("div",{className:"circle-border",children:e.jsx("img",{src:"img/comicskite_01.png",className:"d-inline-block align-top",alt:"Logo"})})}),e.jsx("h2",{className:"mx-auto",style:{color:"#ebca6d"},children:"COMICSKITES - VENTA DE COMICS"}),e.jsxs(F,{className:"ml-auto",children:[e.jsx(k,{to:"/registrar",className:s,children:e.jsx(j,{variant:"primary",className:"mr-2 text-uppercase custom-button",style:{borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Regístrarse aquí"})}),e.jsx(k,{to:"/iniciar_sesion",className:s,children:e.jsx(j,{variant:"primary",className:"text-uppercase custom-button",style:{borderColor:"#ebca6d",color:"#ebca6d",marginLeft:"10px",fontSize:"12px"},children:"Iniciar sesión"})})]})]})})}const ie="/assets/Imagen2-c9be2ac3.jpg";function de(){return e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"black",padding:"1rem"},children:e.jsxs("div",{style:{backgroundColor:"#295b6fff",padding:"1rem",border:"1px solid white"},children:[e.jsx("h2",{className:"my-auto",style:{color:"#ebca6d"},children:"BIENVENIDO A COMICSKITE"}),e.jsx("h2",{className:"my-auto",style:{color:"#ebca6d"},children:"VENTA DE COMICS"}),e.jsx("div",{className:"container",children:e.jsx("img",{className:"rounded-5 border border-white border-4",src:ie,alt:"Imagen",style:{width:"50%",height:"50%"}})})]})})})}function me(){return e.jsxs(e.Fragment,{children:[e.jsx(_,{}),e.jsx(de,{})]})}const ue="/assets/comicskite_01-9b004bc7.jpg";function H(){return e.jsx(D.Brand,{href:"/",children:e.jsx("div",{className:"circle-border",children:e.jsx("img",{src:ue,className:"d-inline-block align-top",alt:"Logo"})})})}function xe(){const[s,a]=x.useState(!1),t=()=>{a(m=>!m)},l=({isActive:m})=>m?"isactive":"inactive";return e.jsxs("header",{children:[e.jsx("div",{className:"div-fabars",children:e.jsx(j,{className:"nav-btn",onClick:t,children:e.jsx(Z,{})})}),e.jsx(D,{className:"w-100 justify-content-between mx-3",children:e.jsx(F,{className:`nav-buttons ${s?"active":""}`,children:e.jsxs("div",{className:"navbar-buttons",children:[e.jsx(k,{to:"/productos",className:l,children:e.jsx(j,{variant:"primary",className:"m-1 mr-2 text-uppercase custom-button",style:{borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Productos"})}),e.jsx(k,{to:"/favoritos",className:l,children:e.jsx(j,{variant:"primary",className:"m-1 mr-2 text-uppercase custom-button",style:{borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Mis Favoritos"})}),e.jsx(k,{to:"/perfil",className:l,children:e.jsx(j,{variant:"primary",className:"m-1 mr-2 text-uppercase custom-button",style:{borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Perfil"})}),e.jsx(k,{to:"/carro_compras",className:l,children:e.jsx(j,{variant:"primary",className:"m-1 mr-2 text-uppercase custom-button",style:{borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Carro de Compras"})}),e.jsx(k,{to:"/salir",className:l,children:e.jsx(j,{variant:"primary",className:"m-1 text-uppercase custom-button",style:{borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Salir"})})]})})})]})}function pe(){const[s,a]=x.useState(!1),t=()=>{a(m=>!m)},l=({isActive:m})=>m?"isactive":"inactive";return e.jsxs("header",{children:[e.jsx("div",{className:"div-fabars",children:e.jsx(j,{className:"nav-btn",onClick:t,children:e.jsx(Z,{})})}),e.jsx(D,{className:"w-100 justify-content-between mx-3",children:e.jsx(F,{className:`nav-buttons ${s?"active":""}`,children:e.jsxs("div",{className:"navbar-buttons",children:[e.jsx(k,{to:"/productos",className:l,children:e.jsx(j,{variant:"primary",className:"m-1 mr-2 text-uppercase custom-button",style:{borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Productos"})}),e.jsx(k,{to:"/publicaciones",className:l,children:e.jsx(j,{variant:"primary",className:"m-1 mr-2 text-uppercase custom-button",style:{borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Publicaciones"})}),e.jsx(k,{to:"/orden_compra",className:l,children:e.jsx(j,{variant:"primary",className:"m-1 mr-2 text-uppercase custom-button",style:{borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Orden de compra"})}),e.jsx(k,{to:"/favoritos",className:l,children:e.jsx(j,{variant:"primary",className:"m-1 mr-2 text-uppercase custom-button",style:{borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Mis Favoritos"})}),e.jsx(k,{to:"/perfil",className:l,children:e.jsx(j,{variant:"primary",className:"m-1 mr-2 text-uppercase custom-button",style:{borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Perfil"})}),e.jsx(k,{to:"/carro_compras",className:l,children:e.jsx(j,{variant:"primary",className:"m-1 mr-2 text-uppercase custom-button",style:{borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Carro de Compras"})}),e.jsx(k,{to:"/salir",className:l,children:e.jsx(j,{variant:"primary",className:"m-1 text-uppercase custom-button",style:{borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Salir"})})]})})})]})}function X(){return e.jsx("h2",{className:"d-inline-block ml-2 mb-0",style:{color:"#ebca6d"},children:"COMICSKITES - VENTA DE COMICS"})}const A=x.createContext({});function E(){const{tokenContent:s}=x.useContext(A);return e.jsx(D,{bg:"dark",variant:"dark",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx("div",{className:"d-flex align-items-center",children:e.jsx(H,{})}),e.jsxs("div",{className:"d-box align-items-center",children:[e.jsx(X,{}),s.administrador===0?e.jsx(xe,{}):e.jsx(pe,{})]})]})})}const L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMC1jMDAwIDc5LmRhNGE3ZTVlZiwgMjAyMi8xMS8yMi0xMzo1MDowNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI0LjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkJFODJBQkM2QkFDMDExRURCOEUyOEI2MEMzN0NCODlEIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkJFODJBQkM3QkFDMDExRURCOEUyOEI2MEMzN0NCODlEIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkU4MkFCQzRCQUMwMTFFREI4RTI4QjYwQzM3Q0I4OUQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkU4MkFCQzVCQUMwMTFFREI4RTI4QjYwQzM3Q0I4OUQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5DeRk4AAABqklEQVR42uxVy0rDUBBNbn00sTZooIogbrrqvgvrXr/Br/IjpBuLYFeiuxY3LrVuFBeWQivUIkqllbSJZ2Qu3IabpLQIgg6cEDJz55x5JDGMf/uNlgIqwBgIAB+oA7YSY/Mzn2PGfCaVlDzPB6Kwx4iLyccp/w5yHOfaGw5eRp/DABgUCoWzcKJSafeEfBRDsXRG8WsrqcjknHgCd7c3pzJBq/l0rotRSCoyqakQUB8F1PRM03R1Cmr1etm2LFEsFg91/iAIeotpy+XZpMIExGxAyVwbsrCcnhAvFN+ILr7vt2ZNjgraaq4wwRFdsmvr/VkJ3NzGs5pLK4JwVauVdUOMw+PDfVXZIkM3ZLJ94IJuMOw2hr01pfg+ep/h+wPgUtcigx2kxMA25NReJgxW7n1VTa413iIadIAK3pJaI4TocFtaug0UESTbVDa2IotKelFirMxqE1u3SbF8ZjoCNgcYgsQFyWvYuWTZHc/zdiiGY7VmRrRI9pYEvAMrlEj6QDgCMQ31gzYbz33Niza1kYiu8umWn+iuTuA81lD2vPFTP6Njxh+yLwEGANxKNMElw5B9AAAAAElFTkSuQmCC",O="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDkuMC1jMDAwIDc5LmRhNGE3ZTVlZiwgMjAyMi8xMS8yMi0xMzo1MDowNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI0LjEgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNFMkFEOTc5QkFDMDExRUQ4MThDOTgwNDk2OUVCOERFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNFMkFEOTdBQkFDMDExRUQ4MThDOTgwNDk2OUVCOERFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Q0UyQUQ5NzdCQUMwMTFFRDgxOEM5ODA0OTY5RUI4REUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0UyQUQ5NzhCQUMwMTFFRDgxOEM5ODA0OTY5RUI4REUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5t5+qrAAABaUlEQVR42mJgGAWDETAD8Wog/gvE/4H4HxAfAmIuJDVcULF/UDV/oXqYCRmuAtWAC1tDMT41KvhcDlZUI8Zx7788w38YvqHI/gbdoLeKrF+Q1YD0IMlj9clqbIYjY5gBuOSRLFkNM5QRyQJQODIBFVIEGB+CqX8wXzAhyTFRMaEwYTP0DxUt+IPNgn4Q4fuB/SG5puZ9Y7+PbBZ6HDBAI4iB3HhgRDiNEVe4u6MpJMdwdwY8EbsLiDeCGBwPiY8ToNrvUOZGqBm4Uw4weAKA1JOfDAwsAo8YPxEyXOEp0wugWk6QHqheBgZCSROoUBZIffn4/z+fxCPGt7gMN37D+vzhn38SILVQPQxEWQAF/ED84+X//8LCjxjfY3H583Nff0uC1EDVMpBkAdBFoNzIDcRf3/3/LwgM5x8wOWDQfQG6HGT4V5AaqFrycz8Qv0YqumFF9GssyZwicBmptLxMq8poMRSPIAAQYAA3patnlxwFygAAAABJRU5ErkJggg==",M="http://localhost:3000",he=()=>{const{carrito:s,setCarrito:a,productos:t,setProductos:l}=x.useContext(A),[m,c]=x.useState(!0);x.useEffect(()=>{const r=localStorage.getItem("token");y.get(M+"/productos",{headers:{Authorization:`Bearer ${r}`}}).then(d=>{l(d.data),c(!1)}).catch(d=>{console.error("Error al obtener la lista de productos:",d),c(!1)})},[l]);const i=r=>{const d=localStorage.getItem("token"),n=t.find(o=>o.id_producto===r);n.likes?(n.likes=!1,y.delete(`${M}/dislikes/${r}`,{headers:{Authorization:`Bearer ${d}`}}).then(o=>{console.log(o.data.mensaje)}).catch(o=>{console.error("Error al borrar el like:",o)})):(n.likes=!0,y.post(`${M}/likes/${r}`,null,{headers:{Authorization:`Bearer ${d}`}}).then(o=>{console.log(o.data.mensaje)}).catch(o=>{console.error("Error al agregar el like:",o)}));const g=t.findIndex(o=>o.id_producto===r);if(g!==-1){const o=[...t];o[g]=n,l(o)}},h=r=>{const d=t.find(n=>n.id_producto===r);if(d)if(s&&s.length>0)if(s.find(g=>g.id_producto===r))f.warning("Este cómic ya está en el carrito");else{const g={...d,cantidad:1};a(o=>[...o,g]),f.success("Cómic agregado al carrito con éxito"),console.log("Cómic agregado al carrito:",g)}else{const n={...d,cantidad:1};a([n]),f.success("Cómic agregado al carrito con éxito"),console.log("Cómic agregado al carrito:",n)}};return console.log("La ruta utilizada para el backend es: ",M),e.jsx("div",{children:m?e.jsx("p",{style:{color:"#ebca6d",textTransform:"uppercase"},children:"Cargando productos..."}):e.jsxs(e.Fragment,{children:[e.jsx(P,{position:"top-right"})," ",e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:t.map(r=>e.jsx("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3 mt-3",children:e.jsxs(b,{className:"super_card container-fluid h-100",style:{backgroundColor:"#295b6fff",color:"#ebca6d",border:"1px solid white"},children:[e.jsx("div",{className:"container",children:e.jsx(b.Img,{variant:"top",src:r.imagen_grande,style:{maxHeight:"371px",maxWidth:"246px"}})}),e.jsxs(b.Body,{children:[e.jsx("div",{className:"heart px-3",children:e.jsx("img",{onClick:()=>i(r.id_producto),src:r.likes===!1?L:O,alt:"foto"})}),e.jsx(b.Title,{children:r.nombre}),e.jsxs(b.Text,{children:["Número: ",r.numero]}),e.jsxs(b.Text,{children:["Stock: ",r.stock]}),e.jsxs(b.Text,{children:["Precio: $",r.precio]}),e.jsxs("div",{className:"w-100 justify-content-between",children:[e.jsx(T,{to:"/detalles/"+r.id_producto,children:e.jsx(j,{variant:"primary",className:"m-1 mr-2 text-uppercase",style:{backgroundColor:"black",borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Detalles"})}),e.jsx(j,{variant:"primary",className:"mr-2 text-uppercase",style:{backgroundColor:"black",borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},onClick:()=>h(r.id_producto),children:"Agregar al carro"})]})]})]})},r.id_producto))})})]})})},z=()=>e.jsxs("div",{children:[e.jsx(E,{}),e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"black",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem",border:"1px solid white"},children:e.jsx(he,{})})})})]});const ge="http://localhost:3000",be=()=>{const{id_producto:s}=Y(),{producto:a,setProducto:t}=x.useContext(A),{carrito:l,setCarrito:m}=x.useContext(A);x.useEffect(()=>{const h=localStorage.getItem("token");y.get(`${ge}/detalles/${s}`,{headers:{Authorization:`Bearer ${h}`}}).then(r=>{t(r.data)}).catch(r=>{console.error("Error al obtener la lista de productos:",r)})},[t,s]);const c=h=>{const r=localStorage.getItem("token");let d={...a};d.likes?(d.likes=!1,y.delete(`http://localhost:3000/dislikes/${h}`,{headers:{Authorization:`Bearer ${r}`}}).then(n=>{console.log(n.data.mensaje)}).catch(n=>{console.error("Error al borrar el like:",n)})):(d.likes=!0,y.post(`http://localhost:3000/likes/${h}`,null,{headers:{Authorization:`Bearer ${r}`}}).then(n=>{console.log(n.data.mensaje)}).catch(n=>{console.error("Error al agregar el like:",n)})),t(d),console.log(d)},i=h=>{let r={...a};if(r)if(l&&l.length>0)if(l.find(n=>n.id_producto===h))f.warning("Este cómic ya está en el carrito");else{const n={...r,cantidad:1};m(g=>[...g,n]),f.success("Cómic agregado al carrito con éxito"),console.log("Cómic agregado al carrito:",n)}else{const d={...r,cantidad:1};m([d]),f.success("Cómic agregado al carrito con éxito"),console.log("Cómic agregado al carrito:",d)}};return e.jsxs("div",{children:[e.jsx(P,{position:"top-right"})," ",e.jsx("div",{className:"container mt-4",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs(b,{className:"cardDetail super_cardDetail",style:{backgroundColor:"#295b6fff",color:"#ebca6d",border:"1px solid white"},children:[e.jsx("div",{children:e.jsx(b.Img,{className:"cardImg",variant:"top",src:a.imagen_grande,alt:a.nombre})}),e.jsxs(b.Body,{children:[e.jsx("div",{className:"heart px-2",children:e.jsx("img",{onClick:()=>c(a.id_producto),src:a.likes===!1?L:O,alt:"foto"})}),e.jsx(b.Title,{className:"d-flex",children:a.nombre}),e.jsxs(b.Text,{className:"d-flex",children:["Número: ",a.numero]}),e.jsx(b.Text,{className:"d-flex",style:{textAlign:"left"},children:a.detalle}),e.jsxs("div",{className:"w-100",style:{display:"flex",justifyContent:"space-around"},children:[e.jsxs("div",{children:[e.jsxs(b.Text,{children:["Stock: ",a.stock]}),e.jsxs(b.Text,{children:["Precio: $",a.precio]})]}),e.jsx("div",{className:"d-flex",style:{alignItems:"center"},children:e.jsx(j,{variant:"primary",className:"mr-2 text-uppercase",onClick:()=>i(a.id_producto),style:{backgroundColor:"black",borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Agregar al carro"})})]})]})]})},a.id_producto)})})]})},je=()=>e.jsxs("div",{children:[e.jsx(E,{}),e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"black",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem",border:"1px solid white"},children:e.jsx(be,{})})})})]}),fe="http://localhost:3000",ve=()=>{const{carrito:s,setCarrito:a,productos:t,setProductos:l}=x.useContext(A),[m,c]=x.useState(!0);x.useEffect(()=>{const r=localStorage.getItem("token");y.get(fe+"/favoritos",{headers:{Authorization:`Bearer ${r}`}}).then(d=>{l(d.data),c(!1)}).catch(d=>{console.error("Error al obtener la lista de productos:",d),c(!1)})},[l]);const i=r=>{const d=localStorage.getItem("token"),n=t.find(o=>o.id_producto===r);n.likes?(n.likes=!1,y.delete(`http://localhost:3000/dislikes/${r}`,{headers:{Authorization:`Bearer ${d}`}}).then(o=>{console.log(o.data.mensaje);const p=t.filter(u=>u.id_producto!==r);l(p)}).catch(o=>{console.error("Error al borrar el like:",o)})):(n.likes=!0,y.post(`http://localhost:3000/likes/${r}`,null,{headers:{Authorization:`Bearer ${d}`}}).then(o=>{console.log(o.data.mensaje);const p=t.filter(u=>u.id_producto!==r);l(p)}).catch(o=>{console.error("Error al agregar el like:",o)}));const g=t.findIndex(o=>o.id_producto===r);if(g!==-1){const o=[...t];o[g]=n,l(o)}},h=r=>{const d=t.find(n=>n.id_producto===r);if(d)if(s&&s.length>0)if(s.find(g=>g.id_producto===r))f.warning("Este cómic ya está en el carrito");else{const g={...d,cantidad:1};a(o=>[...o,g]),f.success("Cómic agregado al carrito con éxito"),console.log("Cómic agregado al carrito:",g)}else{const n={...d,cantidad:1};a([n]),f.success("Cómic agregado al carrito con éxito"),console.log("Cómic agregado al carrito:",n)}};return e.jsx("div",{children:m?e.jsx("p",{style:{color:"#ebca6d",textTransform:"uppercase"},children:"Cargando productos..."}):e.jsxs(e.Fragment,{children:[e.jsx(P,{position:"top-right"}),t.length===0?e.jsx("p",{style:{color:"#ebca6d",textTransform:"uppercase"},children:"No hay favoritos"}):e.jsx("div",{}),e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:t.map(r=>e.jsx("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3 mt-3",children:e.jsxs(b,{className:"super_card container-fluid h-100",style:{backgroundColor:"#295b6fff",color:"#ebca6d",border:"1px solid white"},children:[e.jsx("div",{className:"container",children:e.jsx(b.Img,{variant:"top",src:r.imagen_grande,style:{maxHeight:"371px",maxWidth:"246px"}})}),e.jsxs(b.Body,{children:[e.jsx("div",{className:"heart px-3",children:e.jsx("img",{onClick:()=>i(r.id_producto),src:r.likes===!1?L:O,alt:"foto"})}),e.jsx(b.Title,{children:r.nombre}),e.jsxs(b.Text,{children:["Número: ",r.numero]}),e.jsxs(b.Text,{children:["Stock: ",r.stock]}),e.jsxs(b.Text,{children:["Precio: $",r.precio]}),e.jsxs("div",{className:"w-100 justify-content-between",children:[e.jsx(T,{to:"/detalles/"+r.id_producto,children:e.jsx(j,{variant:"primary",className:"m-1 mr-2 text-uppercase",style:{backgroundColor:"black",borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Detalles"})}),e.jsx(j,{variant:"primary",className:"mr-2 text-uppercase",style:{backgroundColor:"black",borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},onClick:()=>h(r.id_producto),children:"Agregar al carro"})]})]})]})},r.id_producto))})})]})})},ye=()=>e.jsxs("div",{children:[e.jsx(E,{}),e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"black",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem",border:"1px solid white"},children:e.jsx(ve,{})})})})]});const Ce="http://localhost:3000",Ne=()=>{const[s,a]=x.useState(null);return x.useEffect(()=>{const t=localStorage.getItem("token");y.get(Ce+"/perfil",{headers:{Authorization:`Bearer ${t}`}}).then(l=>{a(l.data)}).catch(l=>{console.error("Error al obtener los datos del perfil:",l)})},[]),e.jsx("div",{children:s?e.jsx(b,{className:"cardDetail d-flex flex-row",style:{backgroundColor:"#295b6fff",color:"#ebca6d",border:"1px solid #295b6fff"},children:e.jsx("div",{className:"card-body table-perfil",children:e.jsx("table",{className:"container",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"tr-table",children:[e.jsx("th",{children:"Nombre:"}),e.jsxs("th",{children:[s==null?void 0:s.nombre," ",s==null?void 0:s.apellido]})]}),e.jsxs("tr",{className:"tr-table",children:[e.jsx("td",{children:"E-mail:"}),e.jsx("td",{children:s.email})]}),e.jsxs("tr",{className:"tr-table",children:[e.jsx("td",{children:"Dirección:"}),e.jsx("td",{children:s.direccion})]}),e.jsxs("tr",{className:"tr-table",children:[e.jsx("td",{children:"Teléfono:"}),e.jsx("td",{children:s.telefono})]})]})})})}):e.jsx("p",{style:{color:"#ebca6d",textTransform:"uppercase"},children:"Cargando..."})})},ke=()=>e.jsxs("div",{children:[e.jsx(E,{}),e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"black",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem",border:"1px solid white"},children:e.jsx(Ne,{})})})})]});const Ie="http://localhost:3000",Se=()=>{const{carrito:s,setCarrito:a}=x.useContext(A),[t,l]=x.useState(""),[m,c]=x.useState(!1),i=o=>{const p=s.filter(u=>u.id_producto!==o);a(p),f.error("Producto eliminado del carrito")},h=o=>{const p=s.map(u=>u.id_producto===o?{...u,cantidad:u.cantidad+1}:u);a(p)},r=o=>{const p=s.map(u=>u.id_producto===o&&u.cantidad>1?{...u,cantidad:u.cantidad-1}:u);a(p)},d=o=>o.precio*o.cantidad,n=()=>s.reduce((o,p)=>o+d(p),0),g=()=>{c(!0);const o=localStorage.getItem("token"),p=s.map(u=>({id_producto:u.id_producto,cantidad:u.cantidad}));y.post(Ie+"/carrito",{detalle_productos:p},{headers:{Authorization:`Bearer ${o}`}}).then(u=>{a([]),console.log(u.data),f.success("Carrito procesado con éxito.");const I=u.data.detalle_final.replace(/\n/g,"<br />");l(I),c(!1)}).catch(u=>{console.error("Error al procesar el carrito:",u),f.error("Error al procesar el carrito.")})};return e.jsxs("div",{children:[e.jsx(P,{position:"top-right"}),e.jsx(e.Fragment,{children:s.length===0&&!t?e.jsx("div",{children:e.jsx("p",{style:{color:"#ebca6d",textTransform:"uppercase"},children:"El carrito está vacío"})}):e.jsx("div",{})}),s.length===0?e.jsx("div",{}):e.jsxs("div",{children:[e.jsx("div",{className:"card-body",children:e.jsxs(ae,{striped:!0,bordered:!0,hover:!0,className:"gradient-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Imagen"}),e.jsx("th",{children:"Nombre"}),e.jsx("th",{children:"Número"}),e.jsx("th",{children:"Precio"}),e.jsx("th",{children:"Cantidad"}),e.jsx("th",{children:"Total"}),e.jsx("th",{children:"Acciones"})]})}),e.jsx("tbody",{children:s.map(o=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("img",{src:o.imagen_pequena,alt:o.nombre,style:{maxHeight:"50px",maxWidth:"50px"}})}),e.jsx("td",{children:o.nombre}),e.jsx("td",{children:o.numero}),e.jsx("td",{children:o.precio}),e.jsxs("td",{children:[e.jsx(j,{variant:"outline-primary",onClick:()=>r(o.id_producto),children:"-"})," ",o.cantidad," ",e.jsx(j,{variant:"outline-primary",onClick:()=>h(o.id_producto),children:"+"})]}),e.jsx("td",{children:d(o)}),e.jsx("td",{children:e.jsx(j,{variant:"danger",onClick:()=>i(o.id_producto),children:"Eliminar del carro"})})]},o.id_producto))})]})}),e.jsx("div",{children:e.jsxs("h4",{style:{backgroundColor:"black",color:"#ebca6d",fontSize:"24px"},children:["Total general: $",n()]})}),e.jsx(j,{variant:"primary",className:"mr-2 text-uppercase",style:{backgroundColor:"black",borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},onClick:g,disabled:m,children:"Procesar carrito"})]}),e.jsx("div",{children:t.length===0?e.jsx("div",{}):e.jsx("p",{className:"gradient-table ",dangerouslySetInnerHTML:{__html:t}})})]})},we=()=>e.jsxs("div",{children:[e.jsx(E,{}),e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"black",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem",border:"1px solid white"},children:e.jsx(Se,{})})})})]}),Ae="http://localhost:3000",Ee=()=>{const{productos:s,setProductos:a}=x.useContext(A);return x.useEffect(()=>{const t=localStorage.getItem("token");y.get(Ae+"/publicaciones",{headers:{Authorization:`Bearer ${t}`}}).then(l=>{a(l.data)}).catch(l=>{console.error("Error al obtener la lista de productos:",l)})},[a]),e.jsxs("div",{children:[" ",e.jsx(T,{to:"/nuevo_producto",children:e.jsx(j,{className:"text-uppercase",style:{backgroundColor:"black",borderColor:"#ebca6d",color:"#ebca6d",fontSize:"16px"},children:"Agregar Comic"})}),e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:s.map(t=>e.jsx("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3 mt-3",children:e.jsxs(b,{className:"super_card container-fluid h-100",style:{backgroundColor:"#295b6fff",color:"#ebca6d",border:"1px solid white"},children:[e.jsx("div",{className:"container",children:e.jsx(b.Img,{variant:"top",src:t.imagen_grande,style:{maxHeight:"371px",maxWidth:"246px"}})}),e.jsxs(b.Body,{children:[e.jsx(b.Title,{children:t.nombre}),e.jsxs(b.Text,{children:["Número: ",t.numero]}),e.jsxs(b.Text,{children:["Stock: ",t.stock]}),e.jsxs(b.Text,{children:["Precio: $",t.precio]}),e.jsxs("div",{className:"w-100 justify-content-between",children:[e.jsx(T,{to:"/detalles/"+t.id_producto,children:e.jsx(j,{variant:"primary",className:"m-1 mr-2 text-uppercase",style:{backgroundColor:"black",borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Detalles"})}),e.jsx(T,{to:"/editar_producto/"+t.id_producto,children:e.jsx(j,{variant:"primary",className:"mr-2 text-uppercase",style:{backgroundColor:"black",borderColor:"#ebca6d",color:"#ebca6d",fontSize:"12px"},children:"Editar contenido"})})]})]})]})},t.id_producto))})})]})},Pe=()=>e.jsxs("div",{children:[e.jsx(E,{}),e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"black",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem",border:"1px solid white"},children:e.jsx(Ee,{})})})})]}),De={apiKey:"AIzaSyC7QJWUyC_JMnPgrgBLOcJkxra-1tEkoJo",authDomain:"comicskite.firebaseapp.com",projectId:"comicskite",storageBucket:"comicskite.appspot.com",messagingSenderId:"137328220572",appId:"1:137328220572:web:259ec1f5fecf83def39059"},Te=ce(De),q=ne(Te);async function K(s){const a=V(q,$());return await Q(a,s),await J(a)}async function ee(s){const a=V(q,$());return await Q(a,s),await J(a)}const Re="http://localhost:3000",Me=()=>{const s=R(),[a,t]=x.useState(null),[l,m]=x.useState(null),[c,i]=x.useState({nombre:"",numero:"",imagen_pequena:"",imagen_grande:"",detalle:"",precio:"",stock:""}),h=o=>{const{name:p,value:u}=o.target;i(I=>({...I,[p]:u}))},r=async o=>{o.preventDefault();try{const p=localStorage.getItem("token");if(!p){f.error("Token no encontrado. Inicie sesión para continuar.");return}console.log(p);const u={headers:{Authorization:`Bearer ${p}`}},I=await K(a);console.log("Imagen pequeña: ",I);const S=await ee(l);console.log("Imagen grande: ",S);const C={nombre:c.nombre,numero:c.numero,detalle:c.detalle,imagen_pequena:I,imagen_grande:S,precio:c.precio,stock:c.stock};(await y.post(Re+"/nuevo_producto",C,u)).data?(f.success("Producto agregado satisfactoriamente"),s("/publicaciones")):f.error("Error. Por favor, complete correctamente el formulario.")}catch{f.error("Error al procesar el formulario. Intente nuevamente más tarde.")}},d={background:"white"},n=o=>{const p=o.target.files[0];t(p)},g=o=>{const p=o.target.files[0];m(p)};return e.jsxs("div",{children:[e.jsx("h2",{style:{color:"#ebca6d"},children:"AGREGAR PRODUCTO"}),e.jsxs("form",{onSubmit:r,encType:"multipart/form-data",children:[e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Nombre:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"text",name:"nombre",value:c.nombre,onChange:h,variant:"outlined",fullWidth:!0,InputProps:{style:d}})})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Número:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"number",name:"numero",value:c.numero,onChange:h,variant:"outlined",fullWidth:!0,InputProps:{style:d}})})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Imagen pequeña:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx("input",{type:"file",name:"imagen_pequena",onChange:n})})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Imagen grande:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx("input",{type:"file",name:"imagen_grande",onChange:g})})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Detalle:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"text",name:"detalle",value:c.detalle,onChange:h,variant:"outlined",multiline:!0,rows:4,fullWidth:!0,InputProps:{style:d}})})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Precio:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"number",name:"precio",value:c.precio,onChange:h,variant:"outlined",fullWidth:!0,InputProps:{style:d}})})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Stock:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"number",name:"stock",value:c.stock,onChange:h,variant:"outlined",fullWidth:!0,InputProps:{style:d}})})]}),e.jsx("div",{className:"form-group row justify-content-end",children:e.jsx("div",{className:"col-sm-10 text-right",children:e.jsx(B,{variant:"contained",style:{backgroundColor:"black",color:"#ebca6d",marginLeft:"10px",fontSize:"12px",border:"2px solid #ebca6d"},type:"submit",children:"Agregar Producto"})})})]}),e.jsx(P,{})]})},Be=()=>e.jsxs("div",{children:[e.jsx(E,{}),e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"black",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem",border:"1px solid white"},children:e.jsx(Me,{})})})})]}),G="http://localhost:3000",ze=()=>{const s=R(),{id_producto:a}=Y(),[t,l]=x.useState(null),[m,c]=x.useState(null),[i,h]=x.useState({nombre:"",numero:"",imagen_pequena:"",imagen_grande:"",detalle:"",precio:"",stock:""});x.useEffect(()=>{(async()=>{try{const u=localStorage.getItem("token");if(!u){f.error("Token no encontrado. Inicie sesión para continuar.");return}const I={headers:{Authorization:`Bearer ${u}`}},C=(await y.get(`${G}/producto/${a}`,I)).data;h({nombre:C.nombre,numero:C.numero,imagen_pequena:C.imagen_pequena,imagen_grande:C.imagen_grande,detalle:C.detalle,precio:C.precio,stock:C.stock})}catch{f.error("Error al cargar los datos del producto. Intente nuevamente más tarde.")}})()},[a]);const r=p=>{const{name:u,value:I}=p.target;h(S=>({...S,[u]:I}))},d=async p=>{p.preventDefault();try{const u=localStorage.getItem("token");if(!u){f.error("Token no encontrado. Inicie sesión para continuar.");return}const I={headers:{Authorization:`Bearer ${u}`}};let S="",C="";t===null?(console.log("smallImage está null"),S=i.imagen_pequena):(console.log("smallImage no está null"),S=await K(t)),console.log("Imagen pequeña: ",S),m===null?(console.log("largeImage está null"),C=i.imagen_grande):(console.log("largeImage no está null"),C=await ee(m)),console.log("Imagen grande: ",C);const U={nombre:i.nombre,numero:i.numero,detalle:i.detalle,imagen_pequena:S,imagen_grande:C,precio:i.precio,stock:i.stock};(await y.put(`${G}/editar_producto/${a}`,U,I)).data?(f.success("Producto actualizado satisfactoriamente"),s("/publicaciones")):f.error("Error. Por favor, complete correctamente el formulario.")}catch{f.error("Error al procesar el formulario. Intente nuevamente más tarde.")}},n={background:"white"},g=p=>{const u=p.target.files[0];l(u)},o=p=>{const u=p.target.files[0];c(u)};return e.jsxs("div",{children:[e.jsx("h2",{style:{color:"#ebca6d"},children:"EDITAR PRODUCTO"}),e.jsxs("form",{onSubmit:d,encType:"multipart/form-data",children:[e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Nombre:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"text",name:"nombre",value:i.nombre,onChange:r,variant:"outlined",fullWidth:!0,InputProps:{style:n}})})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Número:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"text",name:"numero",value:i.numero,onChange:r,variant:"outlined",fullWidth:!0,InputProps:{style:n}})})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Imagen pequeña:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx("input",{type:"file",name:"imagen_pequena",onChange:g})})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Imagen grande:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx("input",{type:"file",name:"imagen_grande",onChange:o})})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Detalle:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"text",name:"detalle",value:i.detalle,onChange:r,variant:"outlined",multiline:!0,rows:4,fullWidth:!0,InputProps:{style:n}})})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Precio:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"number",name:"precio",value:i.precio,onChange:r,variant:"outlined",fullWidth:!0,InputProps:{style:n}})})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Stock:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"number",name:"stock",value:i.stock,onChange:r,variant:"outlined",fullWidth:!0,InputProps:{style:n}})})]}),e.jsx("div",{className:"form-group row justify-content-end",children:e.jsx("div",{className:"col-sm-10 text-right",children:e.jsx(B,{variant:"contained",style:{backgroundColor:"black",color:"#ebca6d",marginLeft:"10px",fontSize:"12px",border:"2px solid #ebca6d"},type:"submit",children:"Actualizar Producto"})})})]}),e.jsx(P,{})]})},Fe=()=>e.jsxs("div",{children:[e.jsx(E,{}),e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"black",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem",border:"1px solid white"},children:e.jsx(ze,{})})})})]});function _e(){return e.jsx("div",{style:{color:"#ebca6d"},children:e.jsxs("p",{children:["Todos los derechos resevados 2023",e.jsx("br",{}),e.jsx("a",{href:'mailto:"contacto@comicskites.cl"',children:e.jsx(se,{bg:"secondary p-2",children:"contacto@comicskites.cl"})})]})})}const Le="http://localhost:3000",Oe=()=>{const s=R(),[a,t]=x.useState({nombre:"",apellido:"",email:"",direccion:"",telefono:"",contrasena:""}),l=i=>{const{name:h,value:r}=i.target;t(d=>({...d,[h]:r}))},m=async i=>{i.preventDefault();try{(await y.post(Le+"/registrar",a)).data?(f.success("Usuario creado satisfactoriamente"),s("/iniciar_sesion")):f.error("Error. Por favor, complete correctamente el formulario.")}catch{f.error("Error al procesar el formulario. Intente nuevamente más tarde.")}},c={background:"white"};return e.jsxs("div",{children:[e.jsx("h2",{style:{color:"#ebca6d"},children:"REGISTRO DE USUARIO"}),e.jsxs("form",{onSubmit:m,children:[e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Nombre:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"text",name:"nombre",value:a.nombre,onChange:l,variant:"outlined",fullWidth:!0,InputProps:{style:c,autoComplete:"given-name"}},"1")})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Apellido:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"text",name:"apellido",value:a.apellido,onChange:l,variant:"outlined",fullWidth:!0,InputProps:{style:c,autoComplete:"family-name"}},"2")})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"E-mail:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"email",name:"email",value:a.email,onChange:l,variant:"outlined",fullWidth:!0,InputProps:{style:c,autoComplete:"email"}},"3")})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Dirección:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"text",name:"direccion",value:a.direccion,onChange:l,variant:"outlined",fullWidth:!0,InputProps:{style:c,autoComplete:"street-address"}},"4")})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Teléfono:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"tel",name:"telefono",value:a.telefono,onChange:l,variant:"outlined",fullWidth:!0,InputProps:{style:c,autoComplete:"tel"}},"5")})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Contraseña:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"password",name:"contrasena",value:a.contrasena,onChange:l,variant:"outlined",fullWidth:!0,InputProps:{style:c,autoComplete:"current-password"}},"6")})]}),e.jsx("div",{className:"form-group row justify-content-end",children:e.jsx("div",{className:"col-sm-10 text-right",children:e.jsx(B,{variant:"contained",style:{backgroundColor:"black",color:"#ebca6d",marginLeft:"10px",fontSize:"12px",border:"2px solid #ebca6d"},type:"submit",children:"Registrar"})})})]}),e.jsx(P,{})]})};function Ue(){return e.jsxs("div",{children:[e.jsx(_,{}),e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"black",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem",border:"1px solid white"},children:e.jsx(Oe,{})})})})]})}const Ge="http://localhost:3000",We=()=>{const[s,a]=x.useState({email:"",contrasena:""}),{tokenContent:t,setTokenContent:l}=x.useContext(A),m=R(),c=r=>{const{name:d,value:n}=r.target;a(g=>({...g,[d]:n}))},i=async r=>{r.preventDefault();try{const d=await y.post(Ge+"/iniciar_sesion",s);if(d.data.token){localStorage.setItem("token",d.data.token);const n=localStorage.getItem("token"),g=JSON.parse(window.atob(n.split(".")[1]));l(g),m("/productos")}else f.error("Error. Por favor, verifica tus credenciales.")}catch{f.error("Error al procesar el inicio de sesión. Intente nuevamente más tarde.")}};x.useEffect(()=>{t&&s.email&&s.contrasena&&m("/productos")},[t,s.email,s.contrasena,m]);const h={background:"white"};return e.jsxs("div",{children:[e.jsx("h2",{style:{color:"#ebca6d"},children:"INICIAR SESIÓN"}),e.jsxs("form",{onSubmit:i,children:[e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"E-mail:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"email",name:"email",value:s.email,onChange:c,variant:"outlined",fullWidth:!0,InputProps:{style:h,autoComplete:"email-name"}})})]}),e.jsxs("div",{className:"form-group row my-3",children:[e.jsx("label",{className:"col-sm-2 col-form-label label-bold text-uppercase",style:{color:"#ebca6d"},children:"Contraseña:"}),e.jsx("div",{className:"col-sm-10",children:e.jsx(v,{type:"password",name:"contrasena",value:s.contrasena,onChange:c,variant:"outlined",fullWidth:!0,InputProps:{style:h,autoComplete:"password-name"}})})]}),e.jsx("div",{className:"form-group row justify-content-end",children:e.jsx("div",{className:"col-sm-10 text-right",children:e.jsx(B,{type:"submit",variant:"contained",style:{backgroundColor:"black",color:"#ebca6d",marginLeft:"10px",fontSize:"12px",border:"2px solid #ebca6d"},children:"Iniciar sesión"})})})]}),e.jsx(P,{})]})};function Ze(){return e.jsxs("div",{children:[e.jsx(_,{}),e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"black",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem",border:"1px solid white"},children:e.jsx(We,{})})})})]})}const Ye="http://localhost:3000",Ve=()=>{const[s,a]=x.useState([]),[t,l]=x.useState(!0);x.useEffect(()=>{(async()=>{try{const i=localStorage.getItem("token"),h=await y.get(Ye+"/orden_compras",{headers:{Authorization:`Bearer ${i}`}});a(h.data),l(!1)}catch(i){console.error("Error al obtener las órdenes de compra:",i),l(!1)}})()},[]);const m=c=>{const i={day:"numeric",month:"numeric",year:"numeric"};return new Date(c).toLocaleDateString("es-ES",i)};return e.jsx("div",{className:"container",children:t?e.jsx("p",{style:{color:"#ebca6d",textTransform:"uppercase"},children:"Cargando órdenes de compra..."}):e.jsx("div",{children:e.jsx("div",{className:"row",children:s.map(c=>e.jsx("div",{className:"col-12 m-2 ",children:e.jsx("div",{className:"card d-flex ",style:{backgroundColor:"#09232d",color:"#ebca6d",border:"1px solid white",textAlign:"left"},children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h5",{className:"card-title ",children:["Orden de Compra #",c.id_orden_compra]}),e.jsxs("p",{className:"card-text",children:["Fecha: ",m(c.fecha_venta)]}),e.jsx("pre",{children:c.detalle_productos})]})})},c.id_orden_compra))})})})},Qe=()=>e.jsxs("div",{children:[e.jsx(E,{}),e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"black",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem",border:"1px solid white"},children:e.jsx(Ve,{})})})})]}),Je=()=>{const s=R(),{setTokenContent:a}=x.useContext(A),t=()=>{localStorage.removeItem("token"),a(""),s("/")};return e.jsxs("div",{children:[e.jsx(E,{}),e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"black",padding:"1rem"},children:e.jsxs("div",{style:{backgroundColor:"#295b6fff",padding:"1rem",border:"1px solid white"},children:[e.jsx("h3",{style:{color:"#ebca6d"},children:"¿Estás seguro que deseas salir?"}),e.jsx("button",{style:{backgroundColor:"black",borderColor:"#ebca6d",color:"#ebca6d",fontSize:"14px"},onClick:t,children:"Salir"})]})})})]})};function $e(){return e.jsx(D,{bg:"dark",variant:"dark",children:e.jsx(W,{className:"d-flex align-items-center justify-content-between",children:e.jsxs("div",{className:"d-flex align-items-center",children:[e.jsx(H,{}),e.jsx(X,{})]})})})}function He(){return e.jsxs("div",{children:[e.jsx($e,{}),e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"black",padding:"1rem"},children:e.jsx("div",{style:{backgroundColor:"#295b6fff",padding:"1rem",border:"1px solid white"},children:e.jsx("h3",{style:{color:"#ebca6d"},children:"Página no encontrada"})})})})]})}function Xe(){const[s,a]=x.useState([]),[t,l]=x.useState([]),[m,c]=x.useState([]),[i,h]=x.useState(""),r={carrito:m,setCarrito:c,producto:t,setProducto:l,productos:s,setProductos:a,tokenContent:i,setTokenContent:h};x.useEffect(()=>{const n=localStorage.getItem("token"),g=d(n);g?h(g):console.log("No se encontró ningún token. ")},[]);const d=n=>{if(n===null||n==="")return console.log("No hay token almacenado en el Local Storage."),"";{console.log("Se encontró un token en el Local Storage");const o=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),p=decodeURIComponent(atob(o).split("").map(u=>`%${`00${u.charCodeAt(0).toString(16)}`.slice(-2)}`).join(""));return JSON.parse(p)}};return console.log("Contenido token: ",i),console.log("Producto: ",t),console.log("Carrito: ",m),e.jsx(te,{children:e.jsxs(A.Provider,{value:r,children:[e.jsxs(le,{children:[e.jsx(N,{path:"/",element:i?e.jsx(w,{to:"/productos"}):e.jsx(me,{})}),e.jsx(N,{path:"/registrar",element:i?e.jsx(z,{}):e.jsx(Ue,{})}),e.jsx(N,{path:"/iniciar_sesion",element:i?e.jsx(z,{}):e.jsx(Ze,{})}),e.jsx(N,{path:"/productos",element:i?e.jsx(z,{}):e.jsx(w,{to:"/"})}),e.jsx(N,{path:"/favoritos",element:i?e.jsx(ye,{}):e.jsx(w,{to:"/"})}),e.jsx(N,{path:"/perfil",element:i?e.jsx(ke,{}):e.jsx(w,{to:"/"})}),e.jsx(N,{path:"/publicaciones",element:i?e.jsx(Pe,{}):e.jsx(w,{to:"/"})}),e.jsx(N,{path:"/nuevo_producto",element:i?e.jsx(Be,{}):e.jsx(w,{to:"/"})}),e.jsx(N,{path:"/editar_producto/:id_producto",element:i?e.jsx(Fe,{}):e.jsx(w,{to:"/"})}),e.jsx(N,{path:"/carro_compras",element:i?e.jsx(we,{}):e.jsx(w,{to:"/"})}),e.jsx(N,{path:"/detalles/:id_producto",element:i?e.jsx(je,{}):e.jsx(w,{to:"/"})}),e.jsx(N,{path:"/orden_compra",element:i?e.jsx(Qe,{}):e.jsx(w,{to:"/"})}),e.jsx(N,{path:"/salir",element:e.jsx(Je,{})}),e.jsx(N,{path:"*",element:e.jsx(He,{})})]}),e.jsx(_e,{})]})})}oe.createRoot(document.getElementById("root")).render(e.jsx(re.StrictMode,{children:e.jsx(Xe,{})}));
